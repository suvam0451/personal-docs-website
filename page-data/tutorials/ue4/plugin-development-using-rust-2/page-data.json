{"componentChunkName":"component---src-templates-mdx-posts-tsx","path":"/tutorials/ue4/plugin-development-using-rust-2","result":{"data":{"mdx":{"id":"e5ee965d-9f86-5f01-9e89-db05a371728f","body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"path\": \"/tutorials/ue4/plugin-development-using-rust-2\",\n  \"title\": \"Making a rust plug-in (Part 2/3)\",\n  \"date\": \"2019-19-12\",\n  \"tags\": [\"ue4\", \"mdx\", \"example\"],\n  \"moduleID\": 1,\n  \"submoduleID\": 1,\n  \"seriesID\": 1,\n  \"seriesIndex\": 2,\n  \"draft\": false\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"In this series, we will write a plugin for Unreal Engine 4 in rust programming language from start to finish. Steps would include\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"(Part-1)\"), \" C++ FFI, UE4 plug-in structure \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"(with third party dependencies)\"), \", Short notes, Viability\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"(Part-2)\"), \" Rust-C++ interop (How is data passed between), Market shipping \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"(lib vs dll)\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"(Part-3)\"), \" Engine Integration, Testing\")), mdx(Alert, {\n    head: \"This is a WIP page !!\",\n    body: \"Wait till I complete this series before releasing.\",\n    mdxType: \"Alert\"\n  }), mdx(\"hr\", null), mdx(\"h4\", null, \"First time set-up\"), mdx(\"p\", null, \"Firstly, setting up rust toolchain. Skip this if you already have everything configured.\\nBelow is a checklist of things you should already have.\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"rustup\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"vscode with \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"rust-rls\"), \" plug-in by rust-lang\")), mdx(Alert, {\n    head: \"Helpful tip !\",\n    body: \"Consider using package managers to install stuff. They get the job done quick and clean !\",\n    mdxType: \"Alert\"\n  }), mdx(\"hr\", null), mdx(\"h4\", null, \"Code\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"rust\"\n  }, mdx(\"pre\", _extends({\n    parentName: \"div\"\n  }, {\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-rust line-numbers\"\n  }), mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-rust\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token comment\"\n  }), \"// Here is a list of structs we need and a basic empty function\"), \"\\n\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token keyword\"\n  }), \"struct\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token type-definition class-name\"\n  }), \"SVector\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"{\"), \" x\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \":\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token keyword\"\n  }), \"f32\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \",\"), \" y\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \":\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token keyword\"\n  }), \"f32\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \",\"), \" z\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \":\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token keyword\"\n  }), \"f32\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"}\"), \"\\n\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token keyword\"\n  }), \"struct\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token type-definition class-name\"\n  }), \"SQuat\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"{\"), \" w\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \":\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token keyword\"\n  }), \"f32\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \",\"), \" x\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \":\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token keyword\"\n  }), \"f32\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \",\"), \" y\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \":\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token keyword\"\n  }), \"f32\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \",\"), \" z\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \":\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token keyword\"\n  }), \"f32\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"}\"), \"\\n\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token keyword\"\n  }), \"struct\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token type-definition class-name\"\n  }), \"STransform\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"{\"), \"\\n    position \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \":\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token class-name\"\n  }), \"SVector\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \",\"), \"\\n    location\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \":\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token class-name\"\n  }), \"SVector\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \",\"), \"\\n    rotaion\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \":\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token class-name\"\n  }), \"SQuat\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"}\"), \"\\n\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token keyword\"\n  }), \"pub\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token keyword\"\n  }), \"extern\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token keyword\"\n  }), \"fn\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token function-definition function\"\n  }), \"RotateRightAngle\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"(\"), \"_transform \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \":\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token class-name\"\n  }), \"STransform\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \")\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"->\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token class-name\"\n  }), \"STransform\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"{\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"}\")), mdx(\"span\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  })))), mdx(\"p\", null, \"The main takeaway is that C++ and rust allow static linking. This means we won't have to ship our library(DLL) along-side the game i.e- It will be built into the executable. This is important for procedurally generating world during runtime in shipped game.\\nIf you only need world building in editor itself, perhaps this would be a better read for you.\"), mdx(\"p\", null, \"Regardless, this series focuses on writing the module in rust, exposed as a third party \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \".lib\"), \". We will be testing our functionalities outside the editor.\\nI have previously covered C++ for this. You can find that series below. If you already read that, you can skip any part you already know.\"), mdx(Alert, {\n    head: \"Where can this be useful ?\",\n    body: \"This is useful to write procedural plug-ins (mostly calculation parts). You can write achieve the same with C++ as well.\",\n    mdxType: \"Alert\"\n  }), mdx(\"hr\", null), mdx(\"h4\", null, \"C++ FFI\"), mdx(\"p\", null, \"Without delving into technicalities, FFI(Foreign function interface) is used to run compiled code written in one language from another.\\nFor our purpose, C++ uses FFI of C, which effectively means we would have to expose a C header for our functionalities written and compiled in rust.\\nWe will use \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"cbindgen\"), \" for this purpose.\"), mdx(\"p\", null, \"The first and foremost thing to consider writing a gamedev plug-in is the extensibility.\\nWe want the ability to add/modify modules quickly while meeting the desired performance standard.\\nRust is a pretty good option for this due to various reasons. Since you are here, you may have heard of few.\"), mdx(Alert, {\n    head: \"More about FFI !\",\n    body: \"Many languages support interop with C. But few allow static linking we need.\",\n    mdxType: \"Alert\"\n  }), mdx(\"hr\", null), mdx(\"h4\", null, \"UE4 plug-in structure\"), mdx(\"p\", null, \"Every plugin has the following structure.\"), mdx(\"h4\", null, \"Viability\"), mdx(\"p\", null, \"Writing equivalent rust code was a good experience for me.\\nOverally, I had to write a bit more code and do more research because rust is pretty new to the market and not many documentation exist.\\nAs you will see, passing data in between UE4 and rust needs a cumbersome API sitting in between.\\nHowever, once we are done with the API, we will find that adding further features is easier.\"), mdx(\"p\", null, \"As for applying the codebase to other engines, we would need the data structures to be similar.\\nThis might be unlikely in some cases, however favourable cases as mentioned below do exists.\"), mdx(\"hr\", null), mdx(\"h4\", null, \"Before we progress...\"), mdx(\"p\", null, \"Learning rust in itself and working with interoperatibility might hamper professional production in the long run.\\nI am by no means a veteran dev. Throughout this series, we would mostly use static functions. I am hoping to by sharing my experience while developing my procedural plug-in.\"), mdx(\"p\", null, \"Hopefully this will give you a head start in learning rust / plugin development. Good luck.\"), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/ue4-tuts/plugin-development-using-rust-2\"\n  }), \"part two\")), mdx(Alert, {\n    head: \"Remember more productive options !!!\",\n    body: \"For productivity in procedural workflow, consider houdini. Once I get my license, I would focus on making houdini assets as well.\",\n    mdxType: \"Alert\"\n  }));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"path":"/tutorials/ue4/plugin-development-using-rust-2","title":"Making a rust plug-in (Part 2/3)","date":"2019-19-12","submoduleID":1,"seriesID":1,"seriesIndex":2}}},"pageContext":{"id":"e5ee965d-9f86-5f01-9e89-db05a371728f"}},"staticQueryHashes":["1060470014","1060470014","3422013792","4120013359"]}